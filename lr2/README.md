# Лабораторная работа №2 - Flask веб-приложение

Веб-приложение на Flask для демонстрации работы с HTTP запросами, валидации форм и тестирования.

## Функциональность

### 1. Отображение данных запроса
- **Параметры URL** (`/url_params`) - отображение всех переданных GET параметров
- **Заголовки запроса** (`/headers`) - просмотр всех HTTP заголовков
- **Cookie** (`/cookies`) - управление cookies (установка/удаление)
- **Параметры формы** (`/form_params`) - отображение данных POST форм

### 2. Валидация номера телефона
- **Форма валидации** (`/phone`) - проверка номеров телефона
- Поддержка форматов: `+7 (123) 456-75-90`, `8(123)4567590`, `123.456.75.90`
- Валидация длины (10-11 цифр в зависимости от префикса)
- Проверка допустимых символов
- Форматирование в стандартный вид: `8-123-456-78-90`
- Bootstrap стили для отображения ошибок

## Технические требования

### Валидация телефона
- Длина: 10-11 цифр (11 для номеров с +7/8, 10 для остальных)
- Допустимые символы: цифры, пробелы, круглые скобки, дефисы, точки, +
- Сообщения об ошибках на русском языке
- Bootstrap классы: `is-invalid`, `invalid-feedback`

### Cookie функциональность
- Cookie `user_visited` устанавливается при первом посещении
- Удаляется при повторном посещении страницы cookies

## Запуск

```bash
# Установка зависимостей
pip install -r requirements.txt

# Запуск приложения
cd app
python app.py
```

Приложение будет доступно по адресу: http://127.0.0.1:5000

## Тестирование

```bash
# Запуск всех тестов
cd app
python -m pytest tests/test_.py -v
```

Включает 18 тестов, покрывающих:
- Отображение параметров URL
- Отображение заголовков запроса
- Управление cookies
- Отображение параметров форм
- Валидацию номеров телефона (различные форматы и ошибки)
- Bootstrap классы при ошибках
- Форматирование корректных номеров

## Структура проекта

```
lr2/
├── app/
│   ├── app.py                 # Основное приложение Flask
│   ├── templates/             # HTML шаблоны
│   │   ├── index.html
│   │   ├── url_params.html
│   │   ├── headers.html
│   │   ├── cookies.html
│   │   ├── form_params.html
│   │   └── phone_form.html
│   └── tests/
│       └── test_.py           # Тесты приложения
├── requirements.txt           # Зависимости
└── README.md                  # Документация
```

## Автор

Гудяков Олег Артёмович, группа ИВТ-б-о-23